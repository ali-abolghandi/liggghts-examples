LAMMPS (1 Oct 2006)
# 2d friction simulation

dimension	2
boundary	p s p

atom_style	atomic
neighbor	0.3 bin
neigh_modify	delay 5

# create geometry

lattice		hex 0.9
region		box block 0 50 0 22 -0.25 0.25
create_box	4 box
Created box = (0 0 -0.283174) to (56.6348 43.1615 0.283174)
  1 by 1 by 1 processor grid

mass		1 1.0
mass		2 1.0
mass		3 1.0
mass		4 1.0

# atom regions

region          lo-fixed block INF INF INF 1.1 INF INF
region          lo-slab block INF INF INF 7 INF INF
region          above-lo block INF INF INF 7 INF INF side out
region          hi-fixed block INF INF 20.9 INF INF INF
region          hi-slab block INF INF 15 INF INF INF
region          below-hi block INF INF 15 INF INF INF side out
region		lo-asperity sphere 32 7 0 8
region		hi-asperity sphere 18 15 0 8
region		lo-half-sphere intersect 2 lo-asperity above-lo
region		hi-half-sphere intersect 2 hi-asperity below-hi

# create 2 surfaces with asperities

create_atoms	1 lo-slab
Created 750 atoms
create_atoms	1 hi-slab
Created 750 atoms
create_atoms	2 lo-half-sphere
Created 112 atoms
create_atoms	3 hi-half-sphere
Created 112 atoms

# LJ potentials

pair_style	lj/cut 2.5
pair_coeff	* * 1.0 1.0 2.5

# define groups

group	        lo region lo-slab
750 atoms in group lo
group		lo type 2
862 atoms in group lo
group		hi region hi-slab
750 atoms in group hi
group		hi type 3
862 atoms in group hi
group		lo-fixed region lo-fixed
150 atoms in group lo-fixed
group		hi-fixed region hi-fixed
150 atoms in group hi-fixed
group		boundary union lo-fixed hi-fixed
300 atoms in group boundary
group		mobile subtract all boundary
1424 atoms in group mobile

set		lo-fixed atom 4
  150 settings made
set		hi-fixed atom 4
  150 settings made

# initial velocities

temperature     new mobile partial 0 1 0
velocity	mobile create 0.1 482748 temp new
velocity	hi set 1.0 0.0 0.0 sum yes

# fixes

fix		1 all nve
fix		2 boundary setforce 0.0 0.0 0.0
fix		3 mobile temp/rescale 200 0.1 0.1 0.02 1.0
fix_modify	3 temp new

# Run

timestep	0.0025
thermo		1000
thermo_modify	temp new

dump		1 all atom 100 dump.friction
run		20000
Memory usage per processor = 1.53824 Mbytes
Step Temp E_pair E_mol TotEng Press Volume 
       0          0.1   -3.1333672            0   -3.0921549   -1.3466755    1384.4128 
    1000  0.085622556   -3.0583969            0   -3.0231098  0.040017208    1384.4128 
    2000  0.085921887   -3.0572271            0   -3.0218167  -0.60479351    1384.4128 
    3000   0.10739474   -3.0650606            0   -3.0208008  -0.04184404    1384.4128 
    4000  0.089682132     -3.04809            0     -3.01113  -0.22441446    1384.4128 
    5000   0.10934102   -3.0485926            0   -3.0035307   0.12177364    1384.4128 
    6000   0.10817011   -3.0584907            0   -3.0139113  -0.36521995    1384.4128 
    7000   0.10519415   -3.0511557            0   -3.0078027    -0.279893    1384.4128 
    8000   0.11660453   -3.0348037            0   -2.9867483  -0.47310792    1384.4128 
    9000          0.1   -3.0308672            0   -2.9896549  -0.35351908    1384.4128 
   10000   0.10012993   -3.0431145            0   -3.0018486   -0.4837576    1384.4128 
   11000   0.11987001   -3.0484839            0   -2.9990827  -0.45971209    1384.4128 
   12000   0.11063404   -3.0457139            0    -3.000119  -0.32411476    1384.4128 
   13000   0.11214672   -3.0407157            0   -2.9944974   -0.4453681    1384.4128 
   14000   0.11127122   -3.0431707            0   -2.9973132  -0.35672869    1384.4128 
   15000   0.11311298   -3.0456742            0   -2.9990577  -0.42235702    1384.4128 
   16000   0.11003354   -3.0519914            0   -3.0066441  -0.24377861    1384.4128 
   17000  0.095617549   -3.0478455            0   -3.0084393  -0.54070059    1384.4128 
   18000   0.10655281   -3.0497371            0   -3.0058242   -0.2968023    1384.4128 
   19000  0.096661108   -3.0630512            0   -3.0232149  -0.35284808    1384.4128 
   20000  0.099961152   -3.0606412            0   -3.0194449  -0.39275101    1384.4128 
Loop time of 42.478 on 1 procs for 20000 steps with 1724 atoms

Pair  time (%) = 34.1596 (80.4171)
Neigh time (%) = 1.4565 (3.42883)
Comm  time (%) = 0.402718 (0.948062)
Outpt time (%) = 1.64536 (3.87344)
Other time (%) = 4.81384 (11.3326)

Nlocal:    1724 ave 1724 max 1724 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    141 ave 141 max 141 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    14389 ave 14389 max 14389 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 14389
Ave neighs/atom = 8.34629
Neighbor list builds = 730
Dangerous builds = 0
